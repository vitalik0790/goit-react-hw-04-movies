(this.webpackJsonplesson=this.webpackJsonplesson||[]).push([[3],{55:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"e",(function(){return u}));var n="954177cd68586aaf37f7489ec26d1a8d",c="https://api.themoviedb.org/3";function r(e){return fetch("".concat(c,"/search/movie?api_key=").concat(n,"&query=").concat(e,"&language=en-US&page=1&include_adult=false")).then((function(e){if(e.ok)return e.json()}))}function o(){return fetch("".concat(c,"/trending/movie/week?api_key=").concat(n)).then((function(e){if(e.ok)return e.json()}))}function s(e){return fetch("".concat(c,"/movie/").concat(e,"?api_key=").concat(n)).then((function(e){if(e.ok)return e.json()}))}function i(e){return fetch("".concat(c,"/movie/").concat(e,"/credits?api_key=").concat(n,"&language=en-US")).then((function(e){if(e.ok)return e.json()}))}function u(e){return fetch("".concat(c,"/movie/").concat(e,"/reviews?api_key=").concat(n,"&language=en-US&page=1")).then((function(e){if(e.ok)return e.json()}))}},56:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(1);function c(e){var t=e.message;return Object(n.jsx)("div",{role:"alert",children:Object(n.jsxs)("p",{children:["Oops, ",t]})})}},58:function(e,t,a){e.exports={ItemList:"HomePage_ItemList__2nxLd",ImageGalleryItem:"HomePage_ImageGalleryItem__2V7wJ",ImageGalleryItemImage:"HomePage_ImageGalleryItemImage__2D5Yg",link:"HomePage_link__skpuU",about:"HomePage_about__3cSaf",text:"HomePage_text__-HdJ5",rating:"HomePage_rating__Vw5Mz HomePage_text__-HdJ5"}},61:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(1),c=a(62),r=a.n(c),o=a(3),s=a(9),i=a(57),u=a.n(i);function l(e){var t,a=e.id,c=e.title,i=e.name,l=e.backdrop,m=Object(o.i)().url,f=Object(o.g)();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("li",{className:r.a.ImageGalleryItem,children:Object(n.jsxs)(s.b,{className:r.a.link,to:{pathname:"".concat(m,"/").concat((t="".concat(c," ").concat(a),u()(t,{lower:!0}))),state:{from:f}},children:[Object(n.jsx)("img",{className:r.a.ImageGalleryItemImage,src:null!==l?"https://image.tmdb.org/t/p/w500".concat(l):"https://dummyimage.com/480x600/2a2a2a/ffffff&text=foto",alt:c}),Object(n.jsxs)("p",{className:r.a.text,children:[" ",i," ",c]})]})})})}},62:function(e,t,a){e.exports={ImageGalleryItem:"PartOfCard_ImageGalleryItem__Ei-5n",ImageGalleryItemImage:"PartOfCard_ImageGalleryItemImage__1V-ct",text:"PartOfCard_text__3ik0s",link:"PartOfCard_link__2F2tY"}},72:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3OzRv",SearchForm:"Searchbar_SearchForm__1L5JW",SearchFormButton:"Searchbar_SearchFormButton__35lmt",SearchFormInput:"Searchbar_SearchFormInput__NqYFw"}},90:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return O}));var n=a(1),c=a(54),r=a(0),o=a(70),s=a(3),i=a(55),u=a(17),l=a(84),m=a(83),f=(a(71),a(72)),j=a.n(f);function h(e){var t=e.getMovies,a=Object(r.useState)(""),i=Object(c.a)(a,2),u=i[0],f=i[1],h=Object(s.f)(),b=Object(s.g)();return Object(n.jsx)("header",{className:j.a.Searchbar,children:Object(n.jsxs)("form",{className:j.a.SearchForm,onSubmit:function(e){var a;(e.preventDefault(),""!==u.trim())?(t(u),f(""),a=u,h.push(Object(l.a)(Object(l.a)({},b),{},{search:"query=".concat(a)}))):o.b.warn("Fill out the form")},children:[Object(n.jsx)("input",{className:j.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:u,onChange:function(e){f(e.currentTarget.value.toLowerCase())}}),Object(n.jsx)("button",{type:"submit",className:j.a.SearchFormButton,children:Object(n.jsx)(m.a,{style:{marginRight:8}})})]})})}var b=a(56),g=a(61),d=a(58),_=a.n(d);function O(){var e=Object(s.g)(),t=Object(r.useState)(new URLSearchParams(e.search).get("query")),a=Object(c.a)(t,2),l=a[0],m=a[1],f=Object(r.useState)([]),j=Object(c.a)(f,2),d=j[0],O=j[1],p=Object(r.useState)(null),x=Object(c.a)(p,2),I=x[0],v=x[1],S=Object(r.useState)("idle"),y=Object(c.a)(S,2),k=y[0],F=y[1];return Object(r.useEffect)((function(){l&&(F("pending"),i.d(l).then((function(e){0===e.results.length?(b.a,I.message):(O(e),F("resolved"))})).catch((function(e){v(e),F("rejected")})))}),[l]),Object(n.jsxs)("div",{children:[Object(n.jsx)(h,{getMovies:m}),"idle"===k&&Object(n.jsx)("p",{style:{textAlign:"center"},children:"Let's Go!"}),"pending"===k&&Object(n.jsx)(u.a,{}),"rejected"===k&&Object(n.jsx)(b.a,{message:I.message,style:{textAlign:"center"}}),"resolved"===k&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("ul",{className:_.a.ItemList,children:d.results.map((function(e){return Object(n.jsx)(g.a,{id:e.id,title:e.title,name:e.name,backdrop:e.backdrop_path},e.id)}))})}),Object(n.jsx)(o.a,{autoClose:3e3})]})}}}]);
//# sourceMappingURL=movies-page.64e4a77b.chunk.js.map